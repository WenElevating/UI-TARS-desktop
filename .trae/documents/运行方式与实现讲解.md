## 你现在怎么运行（Windows / 源码开发）
1. 进入干净工作目录（我已在仓库内准备了 `_dev` 目录）
   - `cd D:\AiProject\UI-TARS-desktop-0.3.0\_dev`
2. 安装依赖（避免 Electron 下载与 Puppeteer 额外下载波动）
   - 设置环境变量：`ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/`、`PUPPETEER_SKIP_DOWNLOAD=1`
   - 执行：`pnpm install`
3. 启动桌面端（Electron + Vite）
   - 执行：`pnpm run dev:ui-tars`
   - 停止：终端 `Ctrl+C`

## 我会带你读懂它“怎么实现”的路线（从 UI 到自动化）
1. 先建立端到端心智模型（5 分钟）
   - Renderer UI 发起请求：`api.runAgent()` 等（见 [useRunAgent.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/apps/ui-tars/src/renderer/src/hooks/useRunAgent.ts#L55-L116)）
   - Preload 暴露 `ipcRenderer.invoke`（见 [preload/index.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/apps/ui-tars/src/preload/index.ts#L14-L33)）
   - Main 注册 IPC 路由并落地执行（见 [ipcRoutes/agent.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/apps/ui-tars/src/main/ipcRoutes/agent.ts#L17-L114) 与 [main.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/apps/ui-tars/src/main/main.ts#L175-L209)）
2. 精读“runAgent 编排层”（理解本地电脑/浏览器/远程怎么切换）
   - 重点文件：[runAgent.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/apps/ui-tars/src/main/services/runAgent.ts#L39-L256)
   - 输出：搞清楚 operator 选择、modelConfig 组装、GUIAgent 初始化、onData/onError 回调如何更新 store
3. 精读“SDK Agent Loop”（理解它如何截图→调用模型→解析动作→执行动作）
   - 重点文件：[GUIAgent.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/packages/ui-tars/sdk/src/GUIAgent.ts#L66-L493)
   - 输出：弄清 pause/resume/stop 机制与 action 批处理执行
4. 分别看 2 类 Operator（电脑控制 vs 浏览器控制）
   - 电脑控制（nut-js + Electron 截图适配）：[operator.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/apps/ui-tars/src/main/agent/operator.ts#L20-L105)
   - 浏览器控制（Playwright 风格 page 操作）：[browser-operator.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/packages/ui-tars/operators/browser-operator/src/browser-operator.ts#L32-L813)
5. 看“模型调用层”（它到底怎么请求 OpenAI/兼容 Responses API）
   - 重点文件：[Model.ts](file:///d:/AiProject/UI-TARS-desktop-0.3.0/packages/ui-tars/sdk/src/Model.ts#L88-L361)
   - 输出：理解 baseURL/apiKey/model/useResponsesApi/headers 的作用，以及 actionParser 如何把文本变成可执行动作

## 验证学习成果（我会按步骤带你做）
- 在 renderer 里下断点观察一次 `run()` 调用序列
- 在 main 的 `runAgent()` 处打印/断点，确认 operator/modelConfig 的最终形态
- 在 `GUIAgent.run()` 里跟一轮：看到 screenshot→invoke→parsedPredictions→execute 的完整闭环
